(this.webpackJsonpgiphy=this.webpackJsonpgiphy||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var i=n(1),s=n.n(i),a=n(9),c=n.n(a),o=(n(21),n(16)),l=n(2),r=n(3),d=n(6),h=n(5),u=n(4),f=(n(22),n(10)),p=n.n(f),j=n(11),b=n.n(j),O=n(0),g=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).handleUpdate=function(t){e.props.searchFunction(t.target.value)},e}return Object(r.a)(n,[{key:"render",value:function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"ui search",children:Object(O.jsxs)("div",{className:"ui icon input",children:[Object(O.jsx)("input",{className:"prompt",type:"text",placeholder:"Search GIFs",onChange:this.handleUpdate}),Object(O.jsx)("i",{className:"search icon"})]})})})}}]),n}(s.a.Component),v=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).handleClick=function(){e.props.selectGif&&e.props.selectGif(e.props.id)},e}return Object(r.a)(n,[{key:"render",value:function(){var e="https://media2.giphy.com/media/".concat(this.props.id,"/200.gif");return Object(O.jsx)("div",{className:"blup",children:Object(O.jsx)("img",{src:e,onClick:this.handleClick})})}}]),n}(s.a.Component),m=function(e){return Object(O.jsx)("div",{className:"gif",children:e.gifs.map((function(t){return Object(O.jsx)(v,{id:t.id,selectGif:e.selectGif},t.id)}))})},y="kq5n8Zqqda7uRu59qZJZT56pZq8xqJ5I",x={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-45%, -45%)",padding:"0"}},k={position:"absolute",top:6,right:6};b.a.setAppElement("#root");var C=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var i;return Object(l.a)(this,n),(i=t.call(this,e)).search=function(e){p()({apiKey:y,https:!0}).search({q:e,rating:"g",limit:12},(function(e,t){console.log(t.data),i.setState(Object(o.a)({gifs:[]},"gifs",t.data))}))},i.selectGif=function(e){i.setState({selectedGifId:e})},i.state={gifs:[],selectedGifId:null,showModal:!1,gifsOffset:0},i.handleOpenModal=i.handleOpenModal.bind(Object(d.a)(i)),i.handleCloseModal=i.handleCloseModal.bind(Object(d.a)(i)),i.infiniteScroll=i.infiniteScroll.bind(Object(d.a)(i)),i}return Object(r.a)(n,[{key:"componentWillMount",value:function(){this.loadFeed()}},{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.infiniteScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.infiniteScroll)}},{key:"scrollFeed",value:function(){this.setState({gifsOffset:this.state.gifsOffset+12}),this.loadFeed()}},{key:"loadFeed",value:function(){var e=this;p()({apiKey:y,https:!0}).trending({offset:this.state.gifsOffset,limit:12}).then((function(t){t.data.forEach((function(t){var n=e.state.gifs.slice();n.push(t),console.log(n.length),e.setState({gifs:n})}))})).catch((function(e){}))}},{key:"infiniteScroll",value:function(){window.innerHeight+window.scrollY<document.body.scrollHeight-600||this.scrollFeed()}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(g,{className:"search-bar",searchFunction:this.search}),Object(O.jsxs)("div",{className:"container",children:[Object(O.jsxs)(b.a,{isOpen:this.state.showModal,onRequestClose:this.handleCloseModal,style:x,children:[Object(O.jsx)("button",{onClick:this.handleCloseModal,style:k,children:"X"}),Object(O.jsx)(v,{id:this.state.selectedGifId,className:"gif"})]}),Object(O.jsxs)("div",{onClick:this.handleOpenModal,children:[" ",Object(O.jsx)(m,{gifs:this.state.gifs,selectGif:this.selectGif})," "]})]})]})}}]),n}(s.a.Component),w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,38)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,a=t.getLCP,c=t.getTTFB;n(e),i(e),s(e),a(e),c(e)}))};c.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(C,{})}),document.getElementById("root")),w()}},[[37,1,2]]]);
//# sourceMappingURL=main.e1ca4d71.chunk.js.map